<!--<div class="container mt-5">-->
<!--  <div class="d-flex justify-content-between align-items-center p-3">-->
<!--    <h3 class="m-0">Modify Rental</h3>-->
<!--    <a routerLink="/all-rentals" class="btn btn-outline-primary">Back</a>-->
<!--  </div>-->
<!--    <div class="card shadow-sm">-->
<!--      <div class="card-header">Edit/Extend</div>-->
<!--      <div class="card-body">-->
<!--        <form [formGroup]="form" (ngSubmit)="save()" class="row g-3">-->
<!--          <div class="col-md-6">-->
<!--            <label class="form-label">New Due Date</label>-->
<!--            <input type="datetime-local" class="form-control" formControlName="dueDate" />-->
<!--            <div-->
<!--              class="text-danger small"-->
<!--              *ngIf="form.get('dueDate')?.touched && form.get('dueDate')?.invalid"-->
<!--            >-->
<!--              Due date is required.-->
<!--            </div>-->
<!--          </div>-->

<!--          <div class="col-md-6">-->
<!--            <label class="form-label">Reason (optional)</label>-->
<!--            <input-->
<!--              type="text"-->
<!--              class="form-control"-->
<!--              formControlName="reason"-->
<!--              placeholder="Reason for extension"-->
<!--            />-->
<!--          </div>-->

<!--          <div class="col-12 d-flex gap-2 mt-2">-->
<!--            <button type="submit" class="btn btn-primary">Save</button>-->
<!--            <button type="button" class="btn btn-secondary" (click)="back()">Cancel</button>-->
<!--          </div>-->
<!--        </form>-->
<!--      </div>-->
<!--    </div>-->
<!--</div>-->

<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center p-3">
      <h3 class="m-0">Modify Rentals</h3>
      <button class="btn btn-outline-primary" (submit)="back()">Back</button>
    </div>
  <div class="row">
    <div class="col-md-12">
      <div class="card shadow">
        <div class="card-header text-black text-center">Rental</div>
        <div class="row g-4 p-4 align-items-start">
          <!-- Rental modify form -->
          <div class="col-md-7">
            <form [formGroup]="form" (ngSubmit)="onSubmit()">
              <div class="mb-3">
                <label class="form-label">Equipment</label>
                <select class="form-select" formControlName="equipmentName">
                  @if (equipments$ | async; as equipments) {
                    @for (e of equipments; track e.id) {
                      <option [ngValue]="e.name">{{ e.name }}</option>
                    }
                  } @else {
                    <option disabled>Loading...</option>
                  }
                </select>
                @if (refName.invalid && (refName.touched || refName.dirty)) {
                  @if (refName.errors?.['required']) {
                    <small class="text-danger">Equipment name is required</small>
                  }
                }
              </div>

              <div class="mb-3">
                <label class="form-label">Customer</label>
                <select class="form-select" formControlName="customerName">
                  @if (customers$ | async; as customers) {
                    @for (c of customers; track c.id) {
                      <option [ngValue]="c.name">{{ c.name }}</option>
                    }
                  } @else {
                    <option disabled>Loading...</option>
                  }
                </select>
                @if (refCusName.invalid && (refCusName.touched || refCusName.dirty)) {
                  @if (refCusName.errors?.['required']) {
                    <small class="text-danger">Customer name is required</small>
                  }
                }
              </div>

              <div class="mb-3">
                <label class="form-label">Equipment Condition</label>
                <select class="form-select" formControlName="equipmentCondition">
                  @if (equipmentCondition$ | async; as equipments) {
                    @for (e of equipments; track e.id) {
                      <option [ngValue]="e.name">{{ e.name }}</option>
                    }
                  } @else {
                    <option disabled>Loading...</option>
                  }
                </select>
                @if (refCondition.invalid && (refCondition.touched || refCondition.dirty)) {
                  @if (refCondition.errors?.['required']) {
                    <small class="text-danger">Equipment condition is required</small>
                  }
                }
              </div>

              <div class="mb-3">
                <label class="form-label">Equipment Status</label>
                <select class="form-select"  formControlName="equipmentStatus">
                  @if (equipmentStatus$ | async; as equipments) {
                    @for (e of equipments; track e.id) {
                      <option [ngValue]="e.name">{{ e.name }}</option>
                    }
                  } @else {
                    <option disabled>Loading...</option>
                  }
                </select>
                @if (refStatus.invalid && (refStatus.touched || refStatus.dirty)) {
                  @if (refStatus.errors?.['required']) {
                    <small class="text-danger">Due date is required</small>
                  }
                }
              </div>

              <div class="mb-3">
                <label class="form-label">Issue Date</label>
                <input class="form-control" type="date" formControlName="issuedAt"/>
                @if (refIssue.invalid && (refIssue.touched || refIssue.dirty)) {
                  @if (refIssue.errors?.['required']) {
                    <small class="text-danger">Issue date is required</small>
                  }
                }
              </div>

              <div class="mb-3">
                <label class="form-label">Due Date</label>
                <input class="form-control" type="date" formControlName="dueDate"/>
                @if (refDue.invalid && (refDue.touched || refDue.dirty)) {
                  @if (refDue.errors?.['required']) {
                    <small class="text-danger">Due date is required</small>
                  }
                }
              </div>

<!--              <div class="mb-3">-->
<!--                <label class="form-label">Return Notes</label>-->
<!--                <textarea class="form-control" rows="4" formControlName="returnNotes"></textarea>-->
<!--              </div>-->
              <div class="mt-3">
                <button class="btn btn-primary" type="submit">Save</button>
              </div>
            </form>
          </div>

          <!-- Image Card -->
          <div class="col-md-5 d-flex justify-content-center">
            <div class="card shadow-sm" style="width: 18rem;">
              <img ngSrc="/images/excavator.jpg" class="card-img-top" alt="excavator logo" height="200" width="200">
              <div class="card-body text-center">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

